(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[560],{9818:function(e,t,n){"use strict";n.d(t,{db:function(){return c},t:function(){return o}});var r=n(5503),a=n(6257),s=n(1153),i=(0,r.C6)().length?(0,r.Mq)():(0,r.ZF)({apiKey:"AIzaSyDOsqxQXCUmuRCR_HLUC91yIBgsOrIgRP0",authDomain:"huco-9f896.firebaseapp.com",databaseURL:"https://huco-9f896-default-rtdb.firebaseio.com",projectId:"huco-9f896",storageBucket:"huco-9f896.appspot.com",messagingSenderId:"692689852368",appId:"1:692689852368:web:06562137751fe56d8d4bd5",measurementId:"G-HRPMY2CPJS"}),c=(0,a.ad)(i),o=(0,s.cF)()},501:function(e,t,n){"use strict";n.r(t);var r=n(29),a=n(7794),s=n.n(a),i=n(5506),c=n(219),o=n(7294);n(6431);var l=n(3299),u=n(6257),d=n(1153),f=n(9818),p=n(5893);t.default=function(){var e,t=(0,o.useState)(""),n=t[0],a=t[1],h=(0,o.useState)(null),m=h[0],x=h[1],b=(0,o.useState)(!1),v=(b[0],b[1]),g=(0,o.useRef)(null),w=(0,l.useSession)().data;console.log(w);var k=(0,o.useState)(!1),j=k[0],N=k[1],y=(e=(0,r.Z)(s().mark(function e(){var t,i,c;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=2;break}return e.abrupt("return");case 2:return N(!0),e.next=5,(0,u.ET)((0,u.hJ)(f.db,"posts"),{email:null==w?void 0:null===(t=w.user)||void 0===t?void 0:t.email,text:n,timestamp:(0,u.Bt)()});case 5:if(i=e.sent,c=(0,d.iH)(f.t,"posts/".concat(i.id,"/image")),!m){e.next=10;break}return e.next=10,(0,d.sf)(c,m,"data_url").then((0,r.Z)(s().mark(function e(){var t;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Jt)(c);case 2:return t=e.sent,e.next=5,(0,u.r7)((0,u.JU)(f.db,"posts",i.id),{image:t});case 5:case"end":return e.stop()}},e)})));case 10:N(!1),a(""),x(null),v(!1);case 14:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return(0,p.jsx)("div",{className:'border-b border-black-700 p-3 flex space-x-3 overflow-y-scroll $ { loading && "opacity-60} ',children:(0,p.jsxs)("div",{className:"w-full divide-y divide-black-700",children:[(0,p.jsxs)("div",{className:'${selectedFile && "pb-7"} ${ input && "space-y-2.5"}',children:[(0,p.jsx)("textarea",{value:n,onChange:function(e){return a(e.target.value)},rows:"2",placeholder:"Write here",className:"bg-transparent outline-none text=black text-lg placeholder-gray-500  tracking-wide w- ful min-h-[50px]"}),m&&(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)("div",{className:"absolute w-8 h-8 bg-grey hover:bg-black bg-opacity-75 rounded-full flex items-center ustify-center top-1 left-1 cursor-pointer",onClick:function(){return x(null)},children:(0,p.jsx)(i.Z,{className:"text-white h-5"})}),(0,p.jsx)("img",{src:m,alt:"",className:"rounded-2xl max-h-80 object-contain"})]})]}),(0,p.jsxs)("div",{className:"flex items-center justify-between pt-2.5",children:[(0,p.jsx)("div",{className:"flex items-center",children:(0,p.jsxs)("div",{className:"icon",onClick:function(){return g.current.click()},children:[(0,p.jsx)(c.Z,{className:"h-[22px] text-black navbtn"}),(0,p.jsx)("input",{type:"file",hidden:!0,onChange:function(e){var t=new FileReader;e.target.files[0]&&t.readAsDataURL(e.target.files[0]),t.onload=function(e){x(e.target.result)}},ref:g})]})}),(0,p.jsx)("button",{className:"bg-black text-white rounded-full px-4\r py-1.5 font-bold shadow-md hover:bg-black \r disabled:hover:bg-grey disabled:opacity-50\r disabled:cursor-default",disabled:!n.trim()&&!m,onClick:y,children:"Exought"})]})]})})}},2887:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/Input",function(){return n(501)}])},219:function(e,t,n){"use strict";var r=n(7294);let a=r.forwardRef(function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"}))});t.Z=a},5506:function(e,t,n){"use strict";var r=n(7294);let a=r.forwardRef(function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))});t.Z=a}},function(e){e.O(0,[16,510,996,774,888,179],function(){return e(e.s=2887)}),_N_E=e.O()}]);